<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FinTrack - Календарь</title>
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/frontend/css/sidebar.css" />
    <link rel="stylesheet" href="/frontend/css/header.css" />
    <link rel="stylesheet" href="/frontend/css/calendar.css" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/frontend/images/icon_logo.png"
    />
  </head>
  <body>
    <!-- Боковое меню -->
    <div class="sidebar">
      <div class="logo">
        <img src="/frontend/images/logo.png" alt="FinTrack" />
        <p>FinTrack</p>
      </div>
      <ul class="main">
        <li>
          <a href="/frontend/dashboard.html"
            ><i class="bx bxs-dashboard"></i><span>Дашборд</span></a
          >
        </li>
        <li>
          <a href="/frontend/transactions.html"
            ><i class="bx bx-transfer-alt"></i><span>Транзакции</span></a
          >
        </li>
        <li>
          <a href="/frontend/budget.html"
            ><i class="bx bx-briefcase"></i><span>Бюджет</span></a
          >
        </li>
        <li>
          <a href="/frontend/statistics.html"
            ><i class="bx bx-stats"></i><span>Статистика</span></a
          >
        </li>
        <li class="active">
          <a href="/frontend/calendar.html"
            ><i class="bx bx-calendar"></i><span>Календарь</span></a
          >
        </li>
        <li>
          <a href="/frontend/goals.html"
            ><i class="bx bxs-star-half"></i><span>Цели</span></a
          >
        </li>
      </ul>
    </div>

    <!-- Верхнее меню -->
    <div class="header">
      <div class="greeting">
        <h1 id="greeting-text">Загрузка...</h1>
      </div>
      <div class="header-right">
        <div class="profile">
          <a href="/frontend/profile.html">
            <img src="/frontend/images/avatar.png" alt="Профиль" />
          </a>
        </div>
      </div>
    </div>

    <!-- Основное содержимое -->
    <main class="main-content calendar-page">
      <div class="calendar-container">
        <div class="calendar-header">
          <h2>Финансовый календарь</h2>
          <div class="calendar-actions">
            <button id="prev-month" class="btn-secondary">
              <i class="bx bx-chevron-left"></i>
            </button>
            <h3 id="current-month">Май 2023</h3>
            <button id="next-month" class="btn-secondary">
              <i class="bx bx-chevron-right"></i>
            </button>
            <button id="add-event" class="btn-primary">
              <i class="bx bx-plus"></i> Добавить событие
            </button>
          </div>
        </div>

        <div class="calendar-wrapper">
          <div class="calendar-grid" id="calendar-grid">
            <!-- Динамически заполняется через JS -->
          </div>

          <div class="upcoming-events">
            <h3>Ближайшие события</h3>
            <div class="events-list" id="events-list">
              <!-- Динамически заполняется через JS -->
            </div>
          </div>
        </div>
      </div>

      <!-- Модальное окно добавления события -->
      <div class="modal" id="event-modal">
        <div class="modal-content">
          <span class="close-modal">&times;</span>
          <div class="modal-header">
            <h3 id="modal-title">Добавить финансовое событие</h3>
          </div>

          <form id="event-form">
            <div class="form-grid">
              <div class="form-group">
                <label for="event-title">Название</label>
                <div class="input-with-icon">
                  <i class="bx bx-edit-alt"></i>
                  <input
                    type="text"
                    id="event-title"
                    name="title"
                    class="form-control"
                    required
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="event-type">Тип события</label>
                <div class="input-with-icon">
                  <i class="bx bx-category"></i>
                  <select
                    id="event-type"
                    name="type"
                    class="form-control"
                    required
                  >
                    <option value="TRANSACTION_EXPENSE">Расход</option>
                    <option value="TRANSACTION_INCOME">Доход</option>
                    <option value="GOAL_DEADLINE">Дедлайн цели</option>
                    <option value="GOAL_MILESTONE">Этап цели</option>
                    <option value="REMINDER">Напоминание</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <label for="event-amount">Сумма</label>
                <div class="input-with-icon">
                  <i class="bx bx-ruble"></i>
                  <input
                    type="number"
                    id="event-amount"
                    name="amount"
                    class="form-control"
                    min="1"
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="event-date">Дата</label>
                <div class="input-with-icon">
                  <i class="bx bx-calendar"></i>
                  <input
                    type="date"
                    id="event-date"
                    name="date"
                    class="form-control"
                    required
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="event-category">Категория</label>
                <div class="input-with-icon">
                  <i class="bx bx-label"></i>
                  <select
                    id="event-category"
                    name="category"
                    class="form-control"
                  >
                    <option value="all">Все</option>
                    <option value="SALARY">Зарплата</option>
                    <option value="GROCERIES">Продукты</option>
                    <option value="TRANSPORT">Транспорт</option>
                    <option value="UTILITIES">Жильё</option>
                    <option value="ENTERTAINMENT">Развлечения</option>
                    <option value="HEALTH">Здоровье</option>
                    <option value="EDUCATION">Образование</option>
                    <option value="CLOTHING">Одежда</option>
                    <option value="TRAVEL">Путешествия</option>
                    <option value="INVESTMENTS">Инвестиции</option>
                    <option value="OTHER">Другое</option>
                  </select>
                </div>
              </div>

              <div class="form-group full-width">
                <label for="event-notes">Заметки</label>
                <textarea
                  id="event-notes"
                  name="notes"
                  class="form-control"
                  rows="3"
                ></textarea>
              </div>
            </div>

            <div class="modal-actions">
              <button type="button" class="btn-secondary close-modal">
                Отмена
              </button>
              <button type="submit" class="btn-primary">Сохранить</button>
            </div>
          </form>
        </div>
      </div>
      <div class="event-details-container" id="event-details">
        <div class="event-details-header">
          <h3>Детали события</h3>
        </div>
        <div class="event-details-content">
          <div class="empty-state">
            <i class="bx bx-calendar-event"></i>
            <p>Выберите событие для просмотра деталей</p>
          </div>
        </div>
      </div>
    </main>
    <script src="/frontend/script/greeting.js"></script>
    <script src="/frontend/script/calendar.js"></script>
  </body>
</html>
